"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const h=require("ts-morph"),S=a=>a.toLowerCase().split("-").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(""),w=a=>a.replace(/-([a-z])/g,(s,i)=>i.toUpperCase()),C=a=>w(`on-${a}`),b=({components:a,stencilPackageName:s,customElementsDir:i,defaultExport:f=!1,useClient:d=!1})=>{const u=new h.Project({useInMemoryFileSystem:!0}),o=d?`'use client';

`:"",t=u.createSourceFile("component.ts",`${o}/**
 * This file was automatically generated by the Stencil React Output Target.
 * Changes to this file may cause incorrect behavior and will be lost if the code is regenerated.
 */

/* eslint-disable */

import React from 'react';
import { createComponent } from '@stencil/react-output-target/runtime';
import type { EventName } from '@stencil/react-output-target/runtime';
  `);for(const r of a){const m=r.tagName,n=S(m),p=`${n}Element`,$=`${n}CustomEvent`;t.addImportDeclaration({moduleSpecifier:`${s}/${i}/${m}.js`,namedImports:[{name:n,alias:p},{name:"defineCustomElement",alias:`define${n}`}]});const N=(r.events||[]).filter(e=>e.internal===!1),g=[];for(const e of N)if(Object.keys(e.complexType.references).length>0){for(const v of Object.keys(e.complexType.references))e.complexType.references[v].location==="global"||t.addImportDeclaration({moduleSpecifier:s,namedImports:[{name:v,isTypeOnly:!0}]});t.addImportDeclaration({moduleSpecifier:s,namedImports:[{name:$,isTypeOnly:!0}]}),g.push({originalName:e.name,name:C(e.name),type:`EventName<${$}<${e.complexType.original}>>`})}else g.push({originalName:e.name,name:C(e.name),type:`EventName<CustomEvent<${e.complexType.original}>>`});const T=`${n}Events`;t.addTypeAlias({name:T,type:g.length>0?`{ ${g.map(e=>`${e.name}: ${e.type}`).join(`,
`)} }`:"NonNullable<unknown>"});const F=t.addVariableStatement({declarationKind:h.VariableDeclarationKind.Const,declarations:[{name:n,initializer:`/*@__PURE__*/ createComponent<${p}, ${T}>({
          tagName: '${m}',
          elementClass: ${p},
          react: React,
          events: { ${g.map(e=>`${e.name}: '${e.originalName}'`).join(`,
`)}} as ${T},
          defineCustomElement: define${n}
        })`}]});f?t.addExportAssignment({isExportEquals:!1,expression:n}):F.setIsExported(!0)}return t.organizeImports(),t.formatText(),t.getFullText()},I=async({stencilPackageName:a,components:s,outDir:i,customElementsDir:f,esModules:d,experimentalUseClient:u,excludeComponents:o,project:l})=>{const c=[],t=s.filter(r=>!(r.internal===!0||o!=null&&o.includes(r.tagName)));if(t.length===0)return[];if(d===!0)for(const r of t){const m=S(r.tagName),n=`${i}/${m}.ts`,p=b({components:[r],stencilPackageName:a,customElementsDir:f,defaultExport:!0,useClient:u}),$=l.createSourceFile(n,p,{overwrite:!0});c.push($)}else{const r=`${i}/components.ts`,m=b({components:t,stencilPackageName:a,customElementsDir:f,defaultExport:!1,useClient:u}),n=l.createSourceFile(r,m,{overwrite:!0});await n.save(),c.push(n)}return c},y="react-output-target",_="components",E="dist-custom-elements",O=({outDir:a,esModules:s,stencilPackageName:i,experimentalUseClient:f,excludeComponents:d})=>{let u=_;return{type:"custom",name:y,validate(o){const l=(o.outputTargets||[]).find(c=>c.type===E);if(l==null)throw new Error(`The '${y}' requires '${E}' output target. Add { type: '${E}' }, to the outputTargets config.`);if(l.dir!==void 0&&(u=l.dir),i===void 0){if(o.sys&&o.packageJsonFilePath){const{name:c}=JSON.parse(o.sys.readFileSync(o.packageJsonFilePath,"utf8"));i=c}if(!i)throw new Error(`Unable to find the package name in the package.json file: ${o.packageJsonFilePath}. Please provide the stencilPackageName manually to the ${y} output target.`)}},async generator(o,l,c){const t=c.createTimeSpan(`generate ${y} started`,!0),r=c.components,m=new h.Project,n=await I({outDir:a,components:r,stencilPackageName:i,customElementsDir:u,esModules:s===!0,experimentalUseClient:f===!0,excludeComponents:d,project:m});await Promise.all(n.map(p=>l.fs.writeFile(p.getFilePath(),p.getFullText()))),t.finish(`generate ${y} finished`)}}};exports.reactOutputTarget=O;
